import { Layout } from "@/components/Layout";
import { Card } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { 
  Zap, Droplet, Flame, Wifi, Shield, TreePine, 
  Car, Baby, ShoppingBag, Stethoscope, GraduationCap,
  Utensils, Dumbbell, Bus, MapPin, CheckCircle2,
  ArrowRight, Phone, Building
} from "lucide-react";
import { Link } from "react-router-dom";

interface InfrastructureProps {
  settlement: "zapovednoe" | "kolosok";
}

const Infrastructure = ({ settlement }: InfrastructureProps) => {
  const content = {
    zapovednoe: {
      title: "Инфраструктура Заповедного",
      subtitle: "Всё необходимое для комфортной жизни премиум-класса",
      description: `Коттеджный посёлок «Заповедное» предлагает своим жителям инфраструктуру, не уступающую элитным жилым комплексам Москвы. Каждый элемент инфраструктуры тщательно продуман и реализован с использованием современных технологий и материалов высочайшего качества.`,
      utilities: [
        {
          icon: Zap,
          title: "Электроснабжение",
          specs: "Выделенная мощность 15-30 кВт на участок",
          description: `Электроснабжение посёлка осуществляется от собственной трансформаторной подстанции мощностью 1600 кВА, подключенной к двум независимым линиям электропередач. Это обеспечивает бесперебойное электроснабжение даже в случае аварии на одной из линий.

Каждое домовладение получает выделенную мощность от 15 до 30 кВт в зависимости от категории участка. Этого достаточно для работы всех бытовых приборов, системы кондиционирования, электрического отопления и зарядки электромобилей. Электрические сети проложены под землей, что исключает обрывы проводов из-за падения деревьев или обледенения.

В посёлке установлена современная система учета электроэнергии с дистанционной передачей показаний. Жители могут отслеживать потребление электричества в режиме реального времени через мобильное приложение. Для защиты от перепадов напряжения на каждом участке установлены стабилизаторы напряжения.`
        },
        {
          icon: Flame,
          title: "Газоснабжение",
          specs: "Магистральный газ, давление 0.3 МПа",
          description: `Посёлок «Заповедное» полностью газифицирован — магистральный природный газ подведен к каждому участку. Газопровод проложен от распределительной станции по современной технологии с использованием полиэтиленовых труб, что гарантирует отсутствие утечек на протяжении минимум 50 лет эксплуатации.

Выделенная мощность газоснабжения позволяет использовать газ не только для отопления и приготовления пищи, но и для работы газовых каминов, систем подогрева бассейнов, уличных инфракрасных обогревателей. Среднемесячное потребление газа для дома площадью 300 кв.м. составляет около 250-350 кубометров в зимний период.

Все газовые сети находятся на балансе управляющей компании и обслуживаются сертифицированной организацией. Ежегодно проводится техническое обслуживание и проверка на герметичность. Аварийная газовая служба работает круглосуточно.`
        },
        {
          icon: Droplet,
          title: "Водоснабжение",
          specs: "Артезианская скважина, глубина 180 м",
          description: `Водоснабжение посёлка организовано от двух артезианских скважин глубиной 180 метров, пробуренных до водоносного горизонта верхнего карбона. Вода отличается исключительным качеством — мягкая, с минимальным содержанием железа, не требующая дополнительной очистки для бытового использования.

Водозаборный узел оборудован современной станцией водоподготовки с системами аэрации, обезжелезивания и УФ-обеззараживания. Вода соответствует всем санитарным нормам для питьевого водоснабжения, что подтверждается регулярными лабораторными анализами. Резервуары чистой воды объемом 500 кубометров обеспечивают автономность водоснабжения минимум на 3 суток.

Система водоснабжения поддерживает давление 4-6 атмосфер, достаточное для работы современных душевых систем и гидромассажных ванн. Все водопроводные сети проложены ниже глубины промерзания и утеплены, что исключает размораживание труб даже в самые суровые зимы.`
        },
        {
          icon: Wifi,
          title: "Связь и интернет",
          specs: "Оптоволокно до 1 Гбит/с",
          description: `Посёлок «Заповедное» подключен к оптоволоконной сети связи, обеспечивающей скорость интернета до 1 Гбит/с. Оптические кабели проложены к каждому участку, что гарантирует стабильное высокоскоростное соединение для любых задач: от видеоконференций и потокового видео до работы умного дома и систем безопасности.

Услуги связи предоставляют несколько операторов на выбор жителя. Помимо проводного интернета, на территории посёлка установлены базовые станции сотовой связи всех основных операторов, обеспечивающие уверенный прием сигнала 4G/LTE в любой точке территории.

Для владельцев умных домов предусмотрена возможность подключения централизованной системы мониторинга, объединяющей все устройства IoT в единую сеть с доступом через приложение управляющей компании.`
        },
      ],
      security: {
        title: "Безопасность",
        description: `Система безопасности «Заповедного» — это многоуровневый комплекс мер, обеспечивающий защиту жителей и их имущества на уровне элитных московских комплексов.

**Периметральная защита**

Территория посёлка ограждена забором высотой 2.5 метра с системой датчиков движения и вибрации. По всему периметру установлены камеры видеонаблюдения с ночным режимом и аналитикой на основе искусственного интеллекта, способной распознавать попытки проникновения и отличать людей от животных.

**Контроль доступа**

Въезд в посёлок осуществляется через два контрольно-пропускных пункта, оборудованных системой распознавания номеров автомобилей. Жители могут заранее зарегистрировать гостей через мобильное приложение, при этом система автоматически пропустит автомобиль гостя. Пешеходный доступ организован через турникеты с RFID-картами или распознаванием лиц.

**Круглосуточная охрана**

Охрану посёлка несёт профессиональная частная охранная организация. На территории постоянно находятся минимум 4 охранника, ведущих патрулирование пешком и на автомобиле. Группа быстрого реагирования способна прибыть в любую точку посёлка в течение 3 минут.

**Видеонаблюдение**

На территории установлено более 120 камер видеонаблюдения, контролирующих все въезды, дороги, общественные территории и периметр. Записи хранятся 30 дней и доступны жителям по запросу. Мониторинг ведется круглосуточно из центральной диспетчерской.

**Экстренная связь**

В каждом доме установлена система экстренной связи с диспетчерской посёлка. При необходимости можно вызвать охрану, скорую помощь, пожарную службу или службу эксплуатации. Среднее время реагирования — менее 2 минут.`,
        features: [
          "КПП с распознаванием номеров",
          "120+ камер видеонаблюдения",
          "Патрулирование 24/7",
          "Группа быстрого реагирования",
          "Периметральная сигнализация",
          "Мобильное приложение безопасности",
        ]
      },
      amenities: [
        {
          icon: Baby,
          title: "Детская инфраструктура",
          items: ["Детский городок 800 м²", "Игровые площадки", "Спортивная секция для детей", "Летний лагерь"],
          description: "Современные детские площадки с безопасным покрытием, спортивные секции и развивающие кружки для детей всех возрастов."
        },
        {
          icon: Dumbbell,
          title: "Спорт и отдых",
          items: ["Теннисный корт", "Волейбольная площадка", "Беговые дорожки 8 км", "Велосипедные маршруты"],
          description: "Развитая спортивная инфраструктура для активного отдыха: корты, площадки, оборудованные трассы для бега и велопрогулок."
        },
        {
          icon: TreePine,
          title: "Зеленые зоны",
          items: ["Сосновый бор", "Ландшафтный парк", "Зоны барбекю", "Беседки для отдыха"],
          description: "Более 50% территории — зеленые зоны: вековой сосновый лес, благоустроенные парковые территории, места для пикников."
        },
        {
          icon: Car,
          title: "Парковки и дороги",
          items: ["Асфальтовые дороги", "Гостевые парковки", "Зарядки для электромобилей", "Зимняя уборка"],
          description: "Все внутренние дороги имеют асфальтовое покрытие. Гостевые парковки у общественных зон. Зарядные станции для электромобилей."
        },
      ],
      nearbyInfrastructure: [
        { icon: ShoppingBag, name: "Супермаркет «Перекрёсток»", distance: "3 км" },
        { icon: Stethoscope, name: "Медицинский центр", distance: "5 км" },
        { icon: GraduationCap, name: "Школа №15", distance: "4 км" },
        { icon: Utensils, name: "Ресторан «Лесная поляна»", distance: "2 км" },
        { icon: Bus, name: "Остановка автобуса", distance: "500 м" },
        { icon: Building, name: "Город Серпухов", distance: "15 км" },
      ]
    },
    kolosok: {
      title: "Инфраструктура Колоска",
      subtitle: "Всё для комфортной семейной жизни за городом",
      description: `ДПК «Колосок» создавался силами самих жителей, поэтому каждый элемент инфраструктуры отвечает реальным потребностям семей. Здесь нет излишеств, но есть всё необходимое для комфортной жизни по доступной цене.`,
      utilities: [
        {
          icon: Zap,
          title: "Электроснабжение",
          specs: "Выделенная мощность 15 кВт на участок",
          description: `Электроснабжение посёлка осуществляется от трансформаторной подстанции мощностью 400 кВА. Каждый участок получает выделенную мощность 15 кВт — этого достаточно для работы всех бытовых приборов, электрического отопления небольшого дома или резервного отопления при наличии газа.

Электрические сети выполнены воздушной линией с использованием провода СИП, устойчивого к обледенению и обрывам. Счетчики электроэнергии установлены на опорах, что обеспечивает удобство снятия показаний и защиту от несанкционированного подключения.

В планах кооператива — модернизация электросетей с прокладкой кабельных линий под землей и увеличением мощности до 630 кВА. Это позволит желающим увеличить выделенную мощность до 30 кВт.`
        },
        {
          icon: Flame,
          title: "Газоснабжение",
          specs: "Магистральный газ низкого давления",
          description: `Газификация посёлка — одно из главных достижений кооператива. В 2016 году после многолетних переговоров и сбора средств был проложен газопровод от магистральной трубы. Сегодня газ подведен ко всем участкам посёлка.

Использование природного газа значительно снижает расходы на отопление по сравнению с электричеством или дизельным топливом. Средние затраты на отопление дома площадью 150 кв.м. в зимний сезон составляют около 4000-5000 рублей в месяц.

Газовые сети обслуживаются специализированной организацией. Ежегодно проводится техническое обслуживание внутридомового газового оборудования. Члены кооператива получают скидку на обслуживание при заключении коллективного договора.`
        },
        {
          icon: Droplet,
          title: "Водоснабжение",
          specs: "Централизованное, артезианская вода",
          description: `С 2019 года в посёлке действует система централизованного водоснабжения. Три артезианские скважины глубиной 70 метров обеспечивают все участки чистой подземной водой. Водонапорная башня объемом 50 кубометров поддерживает стабильное давление в системе.

Качество воды соответствует санитарным нормам — она мягкая, с приятным вкусом, пригодна для питья без дополнительной очистки. Регулярные анализы подтверждают безопасность воды. Протокол последнего анализа доступен в правлении кооператива.

Стоимость водоснабжения включена в ежемесячные членские взносы. Для экономии воды установлены индивидуальные счетчики, показания которых учитываются при расчете платежей.`
        },
        {
          icon: Wifi,
          title: "Связь и интернет",
          specs: "Оптоволокно до 300 Мбит/с",
          description: `В 2021 году в посёлок пришел оптоволоконный интернет от провайдера «Ростелеком». Скорость подключения до 300 Мбит/с позволяет комфортно работать удаленно, смотреть онлайн-видео в высоком качестве, играть в сетевые игры.

Для жителей, предпочитающих других провайдеров, доступен мобильный интернет 4G от всех основных операторов. Качество сигнала хорошее на всей территории посёлка благодаря близости к федеральной трассе.

Планируется подключение второго интернет-провайдера для создания конкуренции и повышения качества услуг. Также рассматривается возможность организации бесплатного Wi-Fi в общественных зонах посёлка.`
        },
      ],
      security: {
        title: "Безопасность",
        description: `Система безопасности «Колоска» построена на принципах разумной достаточности — защита обеспечивается на хорошем уровне без чрезмерных затрат.

**Въезд в посёлок**

Территория посёлка ограждена забором, въезд осуществляется через ворота с системой контроля доступа. Жители получают пульты для автоматического открытия ворот. Гости могут въехать по предварительной договоренности — житель открывает ворота через приложение или по звонку на домофон.

**Видеонаблюдение**

На территории установлены камеры видеонаблюдения, контролирующие въезд, основные дороги и общественные территории. Записи хранятся 14 дней. При необходимости жители могут запросить записи у правления.

**Соседская взаимопомощь**

Главная особенность безопасности в «Колоске» — это взаимная бдительность жителей. В посёлке все знают друг друга, поэтому посторонний человек сразу привлекает внимание. Действует система оповещения в мессенджере — если кто-то заметил подозрительную активность, информация мгновенно распространяется среди соседей.

**Пожарная безопасность**

В посёлке оборудован пожарный водоем и установлены пожарные щиты. Добровольная пожарная дружина из числа жителей проходит регулярное обучение. Время прибытия профессиональной пожарной команды из Серпухова — около 15 минут.`,
        features: [
          "Контроль въезда",
          "Видеонаблюдение ключевых точек",
          "Система оповещения жителей",
          "Добровольная пожарная дружина",
          "Взаимная соседская помощь",
          "Освещение территории",
        ]
      },
      amenities: [
        {
          icon: Baby,
          title: "Детская инфраструктура",
          items: ["Детская площадка", "Песочница", "Качели и горки", "Летний лагерь"],
          description: "Детская площадка с современным оборудованием и безопасным покрытием. Летом организуется детский лагерь дневного пребывания."
        },
        {
          icon: Dumbbell,
          title: "Спорт и отдых",
          items: ["Волейбольная площадка", "Футбольное поле", "Площадка для бадминтона", "Тропинки для прогулок"],
          description: "Спортивные площадки для активного отдыха всей семьей. Оборудованные тропинки в прилегающем лесу для прогулок и пробежек."
        },
        {
          icon: TreePine,
          title: "Природные зоны",
          items: ["Лесной парк", "Зона для пикников", "Беседки", "Мангальная зона"],
          description: "Сохраненная природная роща с оборудованными местами для отдыха. Общая мангальная зона для пикников жителей."
        },
        {
          icon: Car,
          title: "Дороги",
          items: ["Асфальтовые дороги", "Гравийные проезды", "Гостевая парковка", "Зимняя уборка"],
          description: "Центральные дороги асфальтированы, проезды к участкам — с гравийным покрытием. Зимой дороги расчищаются от снега."
        },
      ],
      nearbyInfrastructure: [
        { icon: ShoppingBag, name: "Магазин «Пятёрочка»", distance: "2 км" },
        { icon: Stethoscope, name: "Поликлиника", distance: "6 км" },
        { icon: GraduationCap, name: "Школа №12", distance: "5 км" },
        { icon: Utensils, name: "Кафе «У дороги»", distance: "1.5 км" },
        { icon: Bus, name: "Остановка автобуса", distance: "800 м" },
        { icon: Building, name: "Город Серпухов", distance: "12 км" },
      ]
    }
  };

  const current = content[settlement];

  return (
    <Layout settlement={settlement}>
      {/* Hero Section */}
      <section className="relative py-20 bg-gradient-to-br from-primary/5 via-background to-accent/5">
        <div className="container mx-auto px-4">
          <div className="text-center max-w-4xl mx-auto">
            <Badge variant="secondary" className="mb-4">
              <Building className="w-3 h-3 mr-1" />
              Инфраструктура
            </Badge>
            <h1 className="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
              {current.title}
            </h1>
            <p className="text-xl text-muted-foreground mb-8">
              {current.subtitle}
            </p>
            <p className="text-lg text-muted-foreground max-w-3xl mx-auto">
              {current.description}
            </p>
          </div>
        </div>
      </section>

      {/* Utilities Section */}
      <section className="py-20">
        <div className="container mx-auto px-4">
          <div className="text-center mb-16">
            <Badge variant="outline" className="mb-4">Коммуникации</Badge>
            <h2 className="text-3xl md:text-4xl font-bold mb-4">
              Инженерные сети
            </h2>
            <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
              Современные коммуникации для комфортного проживания
            </p>
          </div>
          
          <div className="space-y-8">
            {current.utilities.map((utility, index) => (
              <Card key={index} className="overflow-hidden hover:shadow-elegant transition-all duration-300">
                <div className="md:flex">
                  <div className="md:w-1/4 p-6 bg-primary/5 flex flex-col justify-center items-center text-center">
                    <div className="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4">
                      <utility.icon className="w-8 h-8 text-primary" />
                    </div>
                    <h3 className="text-xl font-bold mb-2">{utility.title}</h3>
                    <Badge variant="secondary" className="text-xs">
                      {utility.specs}
                    </Badge>
                  </div>
                  <div className="md:w-3/4 p-6">
                    {utility.description.split('\n\n').map((paragraph, pIndex) => (
                      <p key={pIndex} className="text-muted-foreground mb-4 last:mb-0">
                        {paragraph}
                      </p>
                    ))}
                  </div>
                </div>
              </Card>
            ))}
          </div>
        </div>
      </section>

      {/* Security Section */}
      <section className="py-20 bg-muted/30">
        <div className="container mx-auto px-4">
          <div className="grid lg:grid-cols-2 gap-12 items-start">
            <div>
              <Badge variant="outline" className="mb-4">
                <Shield className="w-3 h-3 mr-1" />
                {current.security.title}
              </Badge>
              <h2 className="text-3xl md:text-4xl font-bold mb-6">
                Безопасность и охрана
              </h2>
              <div className="prose max-w-none">
                {current.security.description.split('\n\n').map((paragraph, index) => {
                  if (paragraph.startsWith('**') && paragraph.endsWith('**')) {
                    return (
                      <h4 key={index} className="text-lg font-bold mt-6 mb-3 text-foreground">
                        {paragraph.replace(/\*\*/g, '')}
                      </h4>
                    );
                  }
                  if (paragraph.startsWith('**')) {
                    const match = paragraph.match(/^\*\*(.+?)\*\*(.*)$/s);
                    if (match) {
                      return (
                        <div key={index}>
                          <h4 className="text-lg font-bold mt-6 mb-3 text-foreground">
                            {match[1]}
                          </h4>
                          <p className="text-muted-foreground mb-4">{match[2].trim()}</p>
                        </div>
                      );
                    }
                  }
                  return (
                    <p key={index} className="text-muted-foreground mb-4">
                      {paragraph}
                    </p>
                  );
                })}
              </div>
            </div>
            <div>
              <Card className="p-6 sticky top-24">
                <h3 className="text-xl font-bold mb-6 flex items-center gap-2">
                  <CheckCircle2 className="w-5 h-5 text-primary" />
                  Система безопасности включает
                </h3>
                <ul className="space-y-4">
                  {current.security.features.map((feature, index) => (
                    <li key={index} className="flex items-center gap-3">
                      <div className="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                        <CheckCircle2 className="w-4 h-4 text-primary" />
                      </div>
                      <span className="text-foreground">{feature}</span>
                    </li>
                  ))}
                </ul>
              </Card>
            </div>
          </div>
        </div>
      </section>

      {/* Amenities Section */}
      <section className="py-20">
        <div className="container mx-auto px-4">
          <div className="text-center mb-16">
            <Badge variant="outline" className="mb-4">Благоустройство</Badge>
            <h2 className="text-3xl md:text-4xl font-bold mb-4">
              Удобства и сервисы
            </h2>
            <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
              Всё для комфортной жизни и активного отдыха
            </p>
          </div>
          
          <div className="grid md:grid-cols-2 gap-8">
            {current.amenities.map((amenity, index) => (
              <Card key={index} className="p-6 hover:shadow-elegant transition-all duration-300">
                <div className="flex items-start gap-4">
                  <div className="w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0">
                    <amenity.icon className="w-7 h-7 text-primary" />
                  </div>
                  <div className="flex-1">
                    <h3 className="text-xl font-bold mb-2">{amenity.title}</h3>
                    <p className="text-muted-foreground mb-4">{amenity.description}</p>
                    <ul className="grid grid-cols-2 gap-2">
                      {amenity.items.map((item, itemIndex) => (
                        <li key={itemIndex} className="flex items-center gap-2 text-sm">
                          <CheckCircle2 className="w-4 h-4 text-primary flex-shrink-0" />
                          <span>{item}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
              </Card>
            ))}
          </div>
        </div>
      </section>

      {/* Nearby Infrastructure */}
      <section className="py-20 bg-muted/30">
        <div className="container mx-auto px-4">
          <div className="text-center mb-16">
            <Badge variant="outline" className="mb-4">
              <MapPin className="w-3 h-3 mr-1" />
              Рядом с посёлком
            </Badge>
            <h2 className="text-3xl md:text-4xl font-bold mb-4">
              Внешняя инфраструктура
            </h2>
            <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
              Социальные объекты и сервисы в ближайшей доступности
            </p>
          </div>
          
          <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
            {current.nearbyInfrastructure.map((item, index) => (
              <Card 
                key={index} 
                className="p-4 text-center hover:shadow-medium transition-all duration-300 hover:-translate-y-1"
              >
                <div className="w-12 h-12 mx-auto mb-3 rounded-full bg-primary/10 flex items-center justify-center">
                  <item.icon className="w-6 h-6 text-primary" />
                </div>
                <h4 className="font-medium text-sm mb-1 line-clamp-2">{item.name}</h4>
                <Badge variant="secondary" className="text-xs">
                  {item.distance}
                </Badge>
              </Card>
            ))}
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-20 bg-primary text-primary-foreground">
        <div className="container mx-auto px-4 text-center">
          <h2 className="text-3xl md:text-4xl font-bold mb-6">
            Готовы увидеть всё своими глазами?
          </h2>
          <p className="text-xl opacity-90 mb-8 max-w-2xl mx-auto">
            Приезжайте на экскурсию по посёлку и оцените качество инфраструктуры лично
          </p>
          <div className="flex flex-wrap justify-center gap-4">
            <Link to={`/${settlement}/contacts`}>
              <Button size="lg" variant="secondary" className="gap-2">
                <Phone className="w-4 h-4" />
                Записаться на просмотр
              </Button>
            </Link>
            <Link to={`/${settlement}/houses`}>
              <Button size="lg" variant="outline" className="gap-2 border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10">
                <Building className="w-4 h-4" />
                Каталог домов
              </Button>
            </Link>
          </div>
        </div>
      </section>
    </Layout>
  );
};

export default Infrastructure;